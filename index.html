<!doctype html>
<html lang="th">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>เช็กชื่อเข้าเรียน</title>

<style>
:root{
  --bg1:#020617;
  --bg2:#020617;
  --card:#020617cc;
  --border:#1e293b;
  --primary:#4fc3ff;
  --primary-soft:#7dd3fc;
  --text:#e5e7eb;
  --muted:#94a3b8;
  --success:#22c55e;
  --danger:#ef4444;
}

*{
  box-sizing:border-box;
  font-family:"Noto Sans Thai",system-ui,sans-serif;
}

body{
  margin:0;
  min-height:100vh;
  background:
    radial-gradient(600px at 50% -10%,#0f172a 0%,transparent 60%),
    radial-gradient(800px at 80% 110%,#020617 0%,transparent 70%),
    linear-gradient(180deg,#020617,#020617);
  display:flex;
  align-items:center;
  justify-content:center;
}

.card{
  width:100%;
  max-width:420px;
  padding:34px 30px;
  border-radius:22px;
  background:var(--card);
  backdrop-filter: blur(14px);
  border:1px solid var(--border);
  box-shadow:
    0 30px 70px rgba(0,0,0,.65),
    inset 0 1px 0 rgba(255,255,255,.03);
  text-align:center;
}

.header{
  margin-bottom:24px;
}

.header h1{
  margin:0;
  font-size:28px;
  font-weight:700;
  color:var(--text);
  letter-spacing:.3px;
}

.header h2{
  margin-top:6px;
  font-size:15px;
  font-weight:500;
  color:var(--muted);
}

select{
  width:100%;
  padding:14px 16px;
  font-size:16px;
  border-radius:14px;
  border:1px solid var(--border);
  background:#020617;
  color:var(--text);
  outline:none;
  transition:.2s;
}

select:focus{
  border-color:var(--primary);
  box-shadow:0 0 0 2px rgba(79,195,255,.25);
}

.actions{
  margin-top:22px;
  display:flex;
  flex-direction:column;
  gap:12px;
}

button{
  width:100%;
  padding:14px;
  font-size:17px;
  font-weight:600;
  border-radius:16px;
  cursor:pointer;
  border:none;
  transition:.2s;
}

.btn-main{
  background:linear-gradient(135deg,var(--primary),var(--primary-soft));
  color:#020617;
  box-shadow:0 10px 25px rgba(79,195,255,.35);
}

.btn-main:hover{
  transform:translateY(-1px);
  box-shadow:0 16px 35px rgba(79,195,255,.45);
}

.btn-summary{
  background:transparent;
  color:var(--primary);
  border:1px solid var(--primary);
}

.btn-summary:hover{
  background:rgba(79,195,255,.08);
}

#msg{
  margin-top:18px;
  font-size:15px;
  font-weight:600;
}

.footer{
  margin-top:22px;
  font-size:12px;
  color:#64748b;
}
</style>
</head>

<body>
<div class="card">
  <div class="header">
    <h1>เช็กชื่อเข้าเรียน</h1>
    <h2>ชมรม Weight Training</h2>
  </div>

  <select id="name">
    <option value="">— เลือกชื่อ —</option>
    <option>เด็กชาย อิฏิไก แมคโอ เทย์</option>
    <option>เด็กชาย ชินวดี อุดมรัตนะวนิชย์</option>
    <option>เด็กชาย พชรเดช พิริยะสว่างพงศ์</option>
    <option>เด็กชาย นวธี วีระวงศกร</option>
    <option>เด็กชาย ศรวิน บรรลุทรัพย์</option>
    <option>เด็กชาย ณพล ตั้งจารุนศิริ</option>
    <option>เด็กชาย ณัฏธนันท์ กฤษฎามาศ</option>
    <option>เด็กชาย สิทธิญาณ แสงสุริยไทย</option>
    <option>เด็กชาย เสฎฐพงศ์ มหัทธนกุล</option>
    <option>เด็กชาย พัสกร วัชระประไพพันธ์</option>
    <option>เด็กชาย ธนากร แดงนภาพรกุล</option>
    <option>เด็กชาย ธัญสิริ พระยาน้อย</option>
    <option>เด็กชาย ปรัตถกร โสราช</option>
    <option>นาย ชลภัทร เทศสกุลวงศ์</option>
    <option>นาย ศศะ คะชิมา</option>
    <option>นาย ชยกฤช ถาวรพานิช</option>
    <option>นาย ธีรภัทร ศรีจิตร</option>
    <option>นาย นิธิศ กุลไชย</option>
    <option>นาย ปภังกร โอกาประกาศิต</option>
    <option>นาย ธิป ตั้งศิริพัฒน์</option>
    <option>นาย ปกป้อง โพธิ์จักร</option>
    <option>นาย สรัล อัสสะบำรุงรัตน์</option>
    <option>นาย ศุภลิน ชื่นไพโรจน์</option>
  </select>

  <div class="actions">
    <button class="btn-main" onclick="checkin()">เช็กชื่อ</button>
    <button class="btn-summary" onclick="sendSummary()">สรุปวันนี้ (ครู)</button>
  </div>

  <div id="msg"></div>
  <div class="footer">AttendBot • QR Attendance System</div>
</div>

<script>
const webhook = "https://discordapp.com/api/webhooks/1457278450837749893/RmPQuqqLuGRGVKLep2xRjtp7RM3b32R0c_p-7AVcIkRx8USXNF__tg_Mzk_gkX_0xmy3";

function today(){
  const d=new Date();
  return d.getFullYear()+"-"+(d.getMonth()+1)+"-"+d.getDate();
}

function getData(){
  return JSON.parse(localStorage.getItem("attend-"+today())||"[]");
}

function saveData(data){
  localStorage.setItem("attend-"+today(),JSON.stringify(data));
}

function checkin(){
  const name=document.getElementById("name").value;
  if(!name){alert("กรุณาเลือกชื่อ");return;}

  let data=getData();
  if(data.includes(name)){
    msg("คุณเช็กชื่อไปแล้ววันนี้","var(--danger)");
    return;
  }

  data.push(name);
  saveData(data);

  fetch(webhook,{
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body:JSON.stringify({
      content:
`เช็กชื่อเข้าเรียน
ชื่อ: ${name}
เวลา: ${new Date().toLocaleString()}

สรุปวันนี้
เช็กชื่อแล้ว ${data.length} คน`
    })
  });

  msg(`เช็กชื่อสำเร็จ วันนี้รวม ${data.length} คน`,"var(--success)");
}

function sendSummary(){
  const data=getData();
  fetch(webhook,{
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body:JSON.stringify({
      content:
`สรุปการเช็กชื่อประจำวัน
วันที่: ${today()}
จำนวนผู้เช็กชื่อ: ${data.length} คน

รายชื่อ:
${data.join("\n")}`
    })
  });
  alert("ส่งสรุปวันนี้เข้า Discord แล้ว");
}

function msg(text,color){
  const m=document.getElementById("msg");
  m.style.color=color;
  m.innerText=text;
}
</script>
</body>
</html>
